<div style="margin-left: 0px" class="content-wrap">
    <main id="content" class="content table-padding" role="main">



        <div style="
                display: flex;
                flex-direction: rows;
                justify-content: space-between;
                align-items: center;
                padding-top: 0.8%;
                padding-left: 1%;
                padding-bottom: 0.8%;
                /*border: 0.5px solid rgba(0, 0, 0, 0.2);*/
                margin-left: 40px;
                width: 85%;
              " *ngIf="!showInvoice">
            <div style="display: flex; align-items: center">
                <h3 class="heading">Inward Remittance</h3>
            </div>

            <div class="dropdown">
                Date:
                <select name="subject" id="subject">
                    <option value="" selected="selected">Today</option>
                </select> Type:
                <select name="topic" id="topic">
                    <option value="" selected="selected">All</option>
                </select>
            </div>
            <div style="padding-top: 0.7%">
                <button class="upload-button" [routerLink]="['/home/upload']">
                    Upload New
                </button>
            </div>
        </div>

        <div class="analytics">
            <div *ngIf="!selectPurpose" style="margin: 20px 50px;">
                <p class="stp3">Select a Purpose code*</p>

                <div *ngIf="!purposeSelect">
                    <input style="width: 50%; margin-top: 20px; margin-bottom: 20px;" placeholder="Search purpose code,group name or description" class="form-control" type="text" (input)="searchData($any($event.target).value)">
                    <div *ngIf="pgNumber != 0">
                        Matching Result <br> Number of Purpose Group = {{ pgNumber }} <br> Number of Purpose Code or Description = {{ pcNumber }}
                    </div>
                    <table class="table table-striped mb-0" style="margin-left: 0px;border-bottom: 0.5px solid rgb(228, 227, 227);">
                        <thead style="width: 100%; font-size: 10px; font-weight: 300;">
                            <tr class="text-muted table-heading">
                                <th scope="col" style="width: 17%; border: 0.1px solid #d3d3d3;">
                                    Purpose Group Name
                                </th>
                                <th scope="col" style="width: 13%; border: 0.1px solid #d3d3d3;">
                                    PurposeCode</th>
                                <th scope="col" style="width: 60%; border: 0.1px solid #d3d3d3;">
                                    Description</th>
                            </tr>
                        </thead>
                        <tbody class="text-dark">
                            <tr class="table-row" style="font-size: 12px;" *ngFor="let purposeRow of purposeRows; let i = index">
                                <td class="columH" *ngFor="let column of purposeRow;  let j = index" [attr.rowSpan]="column.rowSpan" style="vertical-align: top !important;" (click)='purposeClick(purposeRow[j]["text"], purposeRow[j+1]["text"])'>
                                    {{column.text}}
                                </td>

                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div *ngIf="!showInvoice && selectPurpose && selectedSb" style="width: 100%" class="analytics-side">
                <div style="width: 100%" class="row">
                    <div style="width: 100%; margin: 0 -1.5%" *ngIf="!showInvoice" class="col-12 mb-lg padding">
                        <section style="width: 100%; margin-left: 0" class="widget pb-0 box-shadow">
                            <div style="margin: 0 -2%" class="widget-body p-0 support table-wrapper">
                                <h4 style="margin-left: 80px">Select a Shipping Bill</h4>
                                <table style="margin-left: 70px; width: 90% !important;" class="table table-striped mb-0">
                                    <thead style="width: 100%">
                                        <tr class="text-muted table-heading">
                                            <th class="rect">
                                                <img src="./assets/Rectangle-13.png" />
                                            </th>
                                            <th scope="col"><span class="pl-3">DATE</span></th>
                                            <th scope="col">SB NUMBER</th>
                                            <th scope="col">AD CODE</th>
                                            <th scope="col">COMPANY NAME</th>
                                            <th scope="col">UPLOADED BY</th>
                                            <th scope="col">BENE NAME</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-dark">
                                        <tr class="table-row" *ngFor="let data of item1; let i = index" (click)="
                                getInvoices(data, i) && getTransactions(data.sbno)
                              ">
                                            <th class="rect">
                                                <img src="./assets/Rectangle-13.png" />
                                            </th>
                                            <th class="pl-4 fw-normal">{{ data.sbdate }}</th>
                                            <td class="sb-no">{{ data.sbno }}</td>
                                            <td>
                                                {{data.adBillNo}}
                                            </td>
                                            <td>Random Company</td>
                                            <td>
                                                <img class="image" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px" width="30px" /><img class="image image2" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png"
                                                    height="30px" width="30px" /> Lindsey Stroud
                                            </td>
                                            <td>{{data.beneName}}</td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
            <div *ngIf="showInvoice && selectedSb" class="p-8 bc" style="padding-left: 0.8%">
                <div class="side_document_list">
                    <!---class="col-12 mb-lg ph-38"-->
                    <div id="profile" class="profile_class" *ngFor="let data of item1; let i = index" [ngClass]="lastIndex == i ? 'activeBtn' : ''" (click)="getInvoices(data, i) && getTransactions(data.sbno)">
                        <!----------class="row p-2 bb hhu"-->
                        <div class="" style="display: flex">
                            <!-----------class="ph-10 fl"-->
                            <img class="image" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px" width="30px" /><img class="image image2" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px" width="30px"
                            />
                        </div>
                        <div class="" style="width: 100%; padding: 3%">
                            <!-----class="fr pt-2"-->
                            <span class="fl fs16">{{ data.sbno }}</span><span class="fr fs12" style="float: 'right'">
                                {{ data.sbdate }}</span>
                            <p class="fs14">Continental carriers pvt ltd</p>
                        </div>
                    </div>

                </div>
                <!-- People collaborated -->

                <!-- Invoices -->
                <div class="invoices_tab">
                    <div class="invoices_inner">
                        <div class="tabbed">
                            <input [attr.data-index]="1" type="radio" id="1" name="css-tabs" checked />
                            <input [attr.data-index]="2" type="radio" id="2" name="css-tabs" />
                            <input [attr.data-index]="3" type="radio" id="3" name="css-tabs" />
                            <ul class="tabs">
                                <div>
                                    <ul class="tabs">
                                        <li class="tab" [attr.data-index]="1">
                                            <label for="1">Details</label>
                                        </li>
                                        <li class="tab" [attr.data-index]="2">
                                            <label for="2">Additional Documents</label>
                                        </li>
                                        <li (click)="toggleStep1()" class="tab" [attr.data-index]="3">
                                            <label for="3">Transaction and Task</label>
                                        </li>
                                    </ul>
                                </div>
                            </ul>

                            <!---------------------DETAILS------------------->
                            <div class="tab-content form-wrapper" [attr.data-index]="1">
                                <!--------            *ngIf="selectedRow.sbno"-->
                                <div class="inner_tab_content">
                                    <!--------------style="display: none" -->

                                    <div *ngIf="selectedRow.sbno" style="width: 98%; background-color: 'white'">
                                        <div style="width: 100%; margin-top: 10px">
                                            <span style="width: 35%; float: 'right'; font-size: '14px'">BOE
                                                NUMBER:&emsp;{{
                                                selectedRow.sbno }}</span>
                                        </div>
                                        <div style="width: 100%">
                                            <span style="
                                  width: 65%;
                                  float: 'left';
                                  font-size: '16px';
                                  margin-top: 20px;
                                  padding-left: 25px;
                                ">SB DETAILS</span>
                                            <span style="width: 35%; float: 'right'; font-size: '14px'">BOE
                                                DATE:&emsp;{{
                                                selectedRow.sbdate
                                                }}</span>
                                            <!-- <div>SP Number:&emsp;{{ selectedRow.sbno }}</div>
                                                                          <div>SP Date:&emsp;{{ selectedRow.sbdate }}</div>-->
                                        </div>
                                        <div class="row" style="width: 100%">
                                            <div class="col-12 mb-lg padding" style="width: 100%">
                                                <section class="widget pb-0 box-shadow">
                                                    <tr style="width: 100%" class="form-wrapper1">
                                                        <div>
                                                            <td class="full-input border1">
                                                                <label for="portCode">PORT CODE</label><input [(ngModel)]="selectedRow.portCode" class="smalll-input" type="text" name="portCode" />
                                                            </td>
                                                            <td class="full-input border2">
                                                                <label for="ieccode">IEC CODE</label><input [(ngModel)]="selectedRow.ieccode" class="smalll-input" type="text" name="ieccode" />
                                                            </td>
                                                            <td class="full-input border3">
                                                                <label for="iecName">IEC NAME</label><input [(ngModel)]="selectedRow.iecName" class="smalll-input" type="text" name="iecName" />
                                                            </td>
                                                        </div>
                                                        <br />
                                                        <div>
                                                            <td class="full-input border1">
                                                                <label for="adCode">AD CODE</label><input [(ngModel)]="selectedRow.adCode" class="smalll-input" type="text" name="adCode" />
                                                            </td>
                                                            <td class="full-input border2">
                                                                <label for="leodate">LEO DATE</label><input [(ngModel)]="selectedRow.leodate" class="smalll-input" type="text" name="leodate" />
                                                            </td>
                                                            <td class="full-input border3">
                                                                <label for="processingStaus">PROCESSING
                                                                    STATUS</label><input [(ngModel)]="selectedRow.processingStaus" class="smalll-input" type="text" name="processingStaus"
                                                                />
                                                            </td>
                                                        </div>

                                                        <br />
                                                        <div>
                                                            <p class="sh1">FOB and FREIGHT</p>
                                                            <td class="full-input border1">
                                                                <label for="fobCurrency">FOB CURRENCY</label><input [(ngModel)]="selectedRow.fobCurrency" class="smalll-input" type="text" name="fobCurrency" />
                                                            </td>
                                                            <td class="full-input border2">
                                                                <label for="fobValue">FOB VALUE</label><input [(ngModel)]="selectedRow.fobValue" class="smalll-input" type="text" name="fobValue" />
                                                            </td>
                                                            <td class="full-input border3">
                                                                <label for="realizedFobValue">REALIZED FOB
                                                                    VALUE</label><input [(ngModel)]="selectedRow.realizedFobValue" class="smalll-input" type="text" name="realizedFobValue"
                                                                />
                                                            </td>
                                                        </div>
                                                        <br />
                                                        <div>
                                                            <td class="full-input border1">
                                                                <label for="equivalentFobValue">EQUIVALENT FOB
                                                                    VALUE</label><input [(ngModel)]="selectedRow.equivalentFobValue" class="smalll-input" type="text" name="equivalentFobValue"
                                                                />
                                                            </td>
                                                            <td class="full-input border2">
                                                                <label for="freightCurrency">FREIGHT
                                                                    CURRENCY</label><input [(ngModel)]="selectedRow.freightCurrency" class="smalll-input" type="text" name="freightCurrency"
                                                                />
                                                            </td>
                                                            <td class="full-input border3">
                                                                <label for="realizedFreightValue">FREIGHT
                                                                    VALUE</label><input [(ngModel)]="selectedRow.realizedFreightValue" class="smalll-input" type="text" name="realizedFreightValue"
                                                                />
                                                            </td>
                                                        </div>
                                                        <br />
                                                        <div>
                                                            <p class="sh1">INSURANCE</p>
                                                            <td class="full-input border2">
                                                                <label for="insuranceCurrency">INSURANCE
                                                                    CURRENCY</label><input [(ngModel)]="selectedRow.insuranceCurrency" class="smalll-input" type="text" name="insuranceCurrency"
                                                                />
                                                            </td>
                                                            <td class="full-input border3">
                                                                <label for="insuranceValue">INSURANCE
                                                                    VALUE</label><input [(ngModel)]="selectedRow.insuranceValue" class="smalll-input" type="text" name="insuranceValue" />
                                                            </td>
                                                            <td class="full-input border1">
                                                                <label for="realizedInsuranceValue">REALIZED INSURANCE
                                                                    VALUE</label><input [(ngModel)]="
                                                                                                                selectedRow.realizedInsuranceValue
                                                                                                              " class="smalll-input" type="text" name="realizedInsuranceValue" />
                                                            </td>
                                                        </div>
                                                        <br />
                                                        <div>
                                                            <p class="sh1">Additional</p>
                                                            <td class="full-input border2">
                                                                <label for="bankingCharges">BANKING
                                                                    CHARGES</label><input [(ngModel)]="selectedRow.bankingCharges" class="smalll-input" type="text" name="bankingCharges" />
                                                            </td>
                                                            <td class="full-input border3">
                                                                <label for="expectedPaymentlastdate">PAYMENT LAST
                                                                    DATE</label><input [(ngModel)]="
                                                                                                                selectedRow.expectedPaymentlastdate
                                                                                                              " class="smalll-input" type="text" name="expectedPaymentlastdate" />
                                                            </td>
                                                            <td class="full-input border1">
                                                                <label for="AddedDate">ADDED DATE</label><input [(ngModel)]="selectedRow.AddedDate" class="smalll-input" type="text" name="AddedDate" />
                                                            </td>
                                                        </div>

                                                        <br />
                                                        <div>
                                                            <td class="full-input border2">
                                                                <label for="modifiedDate">MODIFIED DATE</label><input [(ngModel)]="selectedRow.modifiedDate" class="smalll-input" type="text" name="modifiedDate" />
                                                            </td>
                                                        </div>
                                                    </tr>
                                                    <p class="sh1">Invoices</p>
                                                    <table id="customers">
                                                        <tr>
                                                            <th colspan="2" style="
                                                                text-align: right !important;
                                                                padding-right: 20px;
                                                            ">
                                                                Serial Number
                                                            </th>
                                                            <th>Invoice Number</th>
                                                            <th>Invoice Amount</th>
                                                            <th colspan="2" style="text-align: left !important">
                                                                Currency
                                                            </th>
                                                        </tr>
                                                        <tr *ngFor="
                                                            let obj of selectedRow.invoices;
                                                            let i = index
                                                            ">
                                                            <td><img src="./assets/Rectangle-13.png" /></td>
                                                            <td>{{ i + 1 }}</td>
                                                            <td>{{ obj.invoiceno }}</td>
                                                            <td>{{ obj.amount }}</td>
                                                            <td>{{ obj.currency }}</td>
                                                            <td><img src="./assets/Rectangle-13.png" /></td>
                                                        </tr>
                                                    </table>


                                                </section>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!----------------ADD A DOCUMENT ----------------------------------------->
                            <div class="tab-content form-wrapper" [attr.data-index]="2" style="
                          height: 100vh;
                          padding-left: 20px;
                          padding-top: 4%;
                          background-color: white;
                          width: 97%;
                        ">
                                <div>
                                    <button class="opt">Bill of lading,</button><br><br> <button class="opt">Commercial
                                        Invoice</button> <br> <br>
                                    <button class="opt">Certificate of origin</button> <br> <br>
                                    <button class="opt">Courier POD</button> <br> <br>
                                </div>
                                <div class="form" method="POST">
                                    <input class="dropzone dropzone-container" id="dropzone" />
                                    <div class="form_inner">
                                        <p>Drag a document here</p>
                                        <p>or</p>
                                        <button type="submit">Select</button>
                                    </div>
                                </div>
                            </div>
                            <div style="
                          overflow: hidden;
                          padding: 4% 0;
                          background-color: white;
                        " class="tab-content form-wrapper" [attr.data-index]="3">
                                <div style="width: 105%">
                                    <div style="width: 98%; background-color: 'white'">
                                        <div class="row" style="width: 100%">
                                            <div class="col-12 mb-lg padding" style="width: 100%">
                                                <!----------------------------TRANSACTION & TASKS  ---------------------------->
                                                <div style="width: 100%" class="transaction_tab" *ngIf="!step1">
                                                    <section style="
                                      display: flex;
                                      justify-content: space-between;
                                      margin-bottom: 4%;
                                    " class="widget pb-0 box-shadow">
                                                        <div>
                                                            <span class="at" style="
                                          border-right: 1px solid black;
                                          color: #49a2d7;
                                        ">All Transaction</span>
                                                            <span class="at">Tasks</span>
                                                        </div>
                                                        <div style="height: 100%">
                                                            <span class="ctb" (click)="onNewTrans()">Create New
                                                                Transaction</span>
                                                        </div>
                                                    </section>
                                                    <table class="table table-striped mb-0">
                                                        <thead>
                                                            <tr class="text-muted table-heading">
                                                                <th scope="col">Date</th>
                                                                <th scope="col">File</th>
                                                                <th scope="col">Status</th>
                                                                <th scope="col">Bank</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="text-dark">
                                                            <tr *ngFor="let task of allTransactions" class="table-row" (click)="viewTask(task)">
                                                                <th class="pl-4 fw-normal">
                                                                    {{ task.transactionDate }}
                                                                </th>
                                                                <td class="sb-no">{{ task.file }}</td>
                                                                <td *ngIf="task.completed === true">
                                                                    Completed
                                                                </td>
                                                                <td *ngIf="task.completed === false">
                                                                    Pending
                                                                </td>

                                                                <td>{{ task.bank }}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                                <!------------------------------TRANSACTION TASK ENDS----------------->

                                                <div class="radio1" *ngIf="step1" style="
                                    margin-left: 10px;
                                    padding: 4% 0;
                                    padding-left: 3%;
                                  ">
                                                    <p class="stp1">Setup: 1</p>
                                                    <p class="stp2">Create Transaction:</p>
                                                    <p class="stp3">Select a bank*</p>
                                                    <div style="display: flex; align-items: center;">
                                                        <input style="flex-direction:row;" type="radio" id="options1" class="circular_input" [(ngModel)]="myRadio" value="yesBank">
                                                        <label style="flex-direction:row;" class="label1" for="male">Yes
                                                            Bank</label>
                                                    </div>
                                                    <div style="display: flex; align-items: center;">
                                                        <input type="radio" style="flex-direction:row;" id="options2" class="circular_input" [(ngModel)]="myRadio" value="axisBank">
                                                        <label class="label1" style="flex-direction:row;" for="female">Axis Bank</label>
                                                    </div>

                                                    <div style="display: flex; align-items: center;">
                                                        <input type="radio" style="flex-direction:row;" name="bank" value="Any Bank" class="circular_input" />
                                                        <label class="label1" style="flex-direction:row;" for="female">Any Bank</label><br />
                                                    </div>
                                                    <br>



                                                    <div style="
                                      display: flex;
                                      width: 100%;
                                      margin-top: 5%;
                                      justify-content: left;
                                    ">
                                                        <button (click)="showThisPdf(selectedRow.sbno)" class="opt" style="margin-right: 1%">
                                                            Generate Document
                                                        </button>
                                                        <button class="opt">Assign Task</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="!showInvoice && selectPurpose && selectedPipo" style="width: 100%" class="analytics-side">
                <div style="width: 100%" class="row">
                    <div style="width: 100%; margin: 0 -1.5%" *ngIf="!showInvoice" class="col-12 mb-lg padding">
                        <section style="width: 100%; margin-left: 0" class="widget pb-0 box-shadow">
                            <div style="margin: 0 -2%" class="widget-body p-0 support table-wrapper">
                                <h4 style="margin-left: 80px">Select a PI/PO</h4>
                                <table style="margin-left: 70px; width: 90% !important;" class="table table-striped mb-0">
                                    <thead style="width: 100%">
                                        <tr class="text-muted table-heading">
                                            <th class="rect">
                                                <img src="./assets/Rectangle-13.png" />
                                            </th>
                                            <th scope="col"><span class="pl-3">DATE</span></th>
                                            <th scope="col">PI/PO No.</th>
                                            <th scope="col">INVOICE NUMBER</th>
                                            <th scope="col">COMPANY NAME</th>
                                            <th scope="col">UPLOADED BY</th>
                                            <th scope="col">AMOUNT</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-dark">
                                        <tr class="table-row" *ngFor="let data of item3; let i = index" (click)="
                                            getInvoices(data, i) && getTransactions(data.pi_poNo)
                                          ">
                                            <th class="rect">
                                                <img src="./assets/Rectangle-13.png" />
                                            </th>
                                            <th class="pl-4 fw-normal">{{ data.date }}</th>
                                            <td class="sb-no">{{ data.pi_poNo }}</td>
                                            <td>
                                                Invoice-<span *ngFor="let data1 of data.invoices; let i = index">
                                                    0{{ i + 1 }},
                                                </span>
                                            </td>
                                            <td>Random Company</td>
                                            <td>
                                                <img class="image" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px" width="30px" /><img class="image image2" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png"
                                                    height="30px" width="30px" /> Lindsey Stroud
                                            </td>
                                            <td>{{data.amount}}</td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
            <div *ngIf="showInvoice && selectedPipo" class="p-8 bc" style="padding-left: 0.8%">
                <div class="side_document_list">
                    <!---class="col-12 mb-lg ph-38"-->
                    <div id="profile" class="profile_class" *ngFor="let data of item3; let i = index" [ngClass]="lastIndex == i ? 'activeBtn' : ''" (click)="getInvoices(data, i) && getTransactions(data.pi_poNo)">
                        <!----------class="row p-2 bb hhu"-->
                        <div class="" style="display: flex">
                            <!-----------class="ph-10 fl"-->
                            <img class="image" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px" width="30px" /><img class="image image2" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px" width="30px"
                            />
                        </div>
                        <div class="" style="width: 100%; padding: 3%">
                            <!-----class="fr pt-2"-->
                            <span class="fl fs16">{{ data.pi_poNo }}</span><span class="fr fs12" style="float: 'right'">
                                {{ data.sbdate }}</span>
                            <p class="fs14">Continental carriers pvt ltd</p>
                        </div>
                    </div>
                    <div id="profile" class="" *ngFor="let data of item2; let i = index" (click)="getInvoices(data,i)">
                        <!------class="row p-2 bb hhu"-->
                        <div class="ph-10 fl">
                            <img class="image" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px" width="30px" /><img class="image image2" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px" width="30px"
                            />
                        </div>

                        <div class="">
                            <!-------class="fr pt-2"-->
                            <span class="fl fs16">{{ data.pi_poNo }} </span><span class="fr fs12" style="float: 'right'">
                                {{ data.boeDate }}</span>
                            <p class="fs14">Continental carriers pvt ltd</p>
                        </div>
                    </div>
                    <div id="profile" class="" *ngFor="let data of item2; let i = index" (click)="getInvoices(data,i)">
                        <!------class="row p-2 bb hhu"-->
                        <div class="ph-10 fl">
                            <img class="image" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px" width="30px" /><img class="image image2" src="./assets/images/cc1d1196dbafb374fe2d91e177dc16f8517532d6.png" height="30px" width="30px"
                            />
                        </div>

                        <div class="">
                            <!-------class="fr pt-2"-->
                            <span class="fl fs16">{{ data.boeNumber }} </span><span class="fr fs12" style="float: 'right'">
                                {{ data.boeDate }}</span>
                            <p class="fs14">Continental carriers pvt ltd</p>
                        </div>
                    </div>
                </div>
                <!-- People collaborated -->

                <!-- Invoices -->
                <div class="invoices_tab">
                    <div class="invoices_inner">
                        <div class="tabbed">
                            <input [attr.data-index]="1" type="radio" id="1" name="css-tabs" checked />
                            <input [attr.data-index]="2" type="radio" id="2" name="css-tabs" />
                            <input [attr.data-index]="3" type="radio" id="3" name="css-tabs" />
                            <ul class="tabs">
                                <div>
                                    <ul class="tabs">
                                        <li class="tab" [attr.data-index]="1">
                                            <label for="1">Details</label>
                                        </li>
                                        <li class="tab" [attr.data-index]="2">
                                            <label for="2">Additional Documents</label>
                                        </li>
                                        <li (click)="toggleStep1()" class="tab" [attr.data-index]="3">
                                            <label for="3">Transaction and Task</label>
                                        </li>
                                    </ul>
                                </div>
                            </ul>

                            <!---------------------DETAILS------------------->
                            <div class="tab-content form-wrapper" [attr.data-index]="1">
                                <!--------            *ngIf="selectedRow.sbno"-->
                                <div class="inner_tab_content">
                                    <!--------------style="display: none" -->
                                    <div style="
                                          background-color: white;
                                          width: 100%;
                                          height: 100vh;
                                          padding-right: 60px;
                                        ">
                                        <div class="serial_detail">
                                            <span style="
                                              width: 100%;
                                              float: 'right';
                                              font-size: '14px';
                                              margin-top: 18.77px;
                                              color: black;
                                            ">SB NUMBER:&emsp;{{ selectedRow.pi_poNo }}</span>
                                        </div>
                                        <div class="invoice_head">
                                            <div style="width: 100%">
                                                <span style="
                                                width: 65%;
                                                float: 'left';
                                                font-size: '20px';
                                                font-weight: 500;
                                              ">PI/PO DETAILS</span>
                                            </div>
                                            <div style="width: 100%">
                                                <span style="
                                                float: 'right';
                                                font-weight: 500;
                                                font-size: '14px';
                                                color: black;
                                              ">SHIPPING BILL DATE:&emsp;{{
                                                    selectedRow.sbdate
                                                    }}</span>
                                            </div>
                                            <!-- <div>SP Number:&emsp;{{ selectedRow.sbno }}</div>
                                                                                    <div>SP Date:&emsp;{{ selectedRow.sbdate }}</div>-->
                                        </div>
                                        <div class="row" style="width: 100%">
                                            <div class="col-12 mb-lg padding" style="width: 100%">
                                                <section style="
                                                padding-left: 45px;
                                                display: grid;
                                                grid-template-columns: 33% 33% 33%;
                                                margin-top: 3%;
                                              " class="widget pb-0 box-shadow">
                                                    <!-- <div class="widget-body p-0 support table-wrapper "
                                                                            style="overflow: hidden !important;">
                                                                            <table class="table table-striped mb-0">
                                                                                <thead>
                                                                                    <tr class="text-muted table-heading fs12">
                                                                                        <th class="rect"><img
                                                                                                src="./assets/Rectangle-13.png"></th>
                                                                                        <th scope="col"><span class=" pl-3">Serial
                                                                                                Number</span></th>
                                                                                        <th scope="col">Invoice Number</th>
                                                                                        <th scope="col">Invoice Amount</th>
                                                                                        <th scope="col">Currency</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody class="text-dark">
                                                                                    <tr class="table-row fs12"
                                                                                        *ngFor="let data of selectedRow.invoices">
                                                                                        <th class="rect"><img
                                                                                                src="./assets/Rectangle-13.png"></th>
                                                                                        <th class="pl-4 fw-normal">{{data.sno}}</th>
                                                                                        <td class="sb-no">{{data.invoiceno}}</td>
                                                                                        <td>{{data.amount}}</td>
                                                                                        <td>{{data.currency}}</td>

                                                                                    </tr>

                                                                                </tbody>
                                                                            </table>
                                                                        </div> -->

                                                    <div style="
                                                  width: 85%;
                                                  margin-bottom: 24px;
                                                  border-radius: 8px;
                                                  box-shadow: 4px 4px 8px 4px #eeeefa;

                                                  border-left: 3px solid #e7845f;
                                                ">
                                                        <div style="
                                                    height: 100px;
                                                    padding-top: 5%;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                  ">
                                                            <label style="
                                                      color: #72768a !important;
                                                      font-size: 102%;
                                                    ">PI/PO NO.</label>
                                                            <p style="
                                                      margin-left: 5%;
                                                      color: #000000;
                                                      font-size: 102%;
                                                    ">
                                                                {{ selectedRow.pi_poNo }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div style="
                                                  width: 85%;
                                                  margin-bottom: 24px;
                                                  border-radius: 8px;
                                                  box-shadow: 4px 4px 8px 4px #eeeefa;
                                                  border-left: 3px solid #5fe6e7;
                                                ">
                                                        <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                  ">
                                                            <label style="
                                                      color: #72768a !important;
                                                      font-size: 102%;
                                                    ">Benne Name</label>
                                                            <p style="
                                                      margin-left: 5%;
                                                      color: #000000;
                                                      font-size: 102%;
                                                    ">
                                                                {{ selectedRow.benneName }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div style="
                                                  width: 85%;
                                                  margin-bottom: 24px;
                                                  border-radius: 8px;
                                                  box-shadow: 4px 4px 8px 4px #eeeefa;
                                                  border-left: 3px solid #e7845f;
                                                ">
                                                        <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                  ">
                                                            <label style="
                                                      color: #72768a !important;
                                                      font-size: 102%;
                                                    ">Currency</label>
                                                            <p style="
                                                      margin-left: 5%;
                                                      color: #000000;
                                                      font-size: 102%;
                                                    ">
                                                                {{ selectedRow.currency }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div style="
                                                  width: 85%;
                                                  margin-bottom: 24px;
                                                  border-radius: 8px;
                                                  box-shadow: 4px 4px 8px 4px #eeeefa;
                                                  border-left: 3px solid #e7845f;
                                                ">
                                                        <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                  ">
                                                            <label style="
                                                      color: #72768a !important;
                                                      font-size: 102%;
                                                    ">Amount</label>
                                                            <p style="
                                                      margin-left: 5%;
                                                      color: #000000;
                                                      font-size: 102%;
                                                    ">
                                                                {{ selectedRow.amount }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div style="
                                                  width: 85%;
                                                  margin-bottom: 24px;
                                                  border-radius: 8px;
                                                  box-shadow: 4px 4px 8px 4px #eeeefa;
                                                  border-left: 3px solid #5fe6e7;
                                                ">
                                                        <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                  ">
                                                            <label style="
                                                      color: #72768a !important;
                                                      font-size: 102%;
                                                    ">LEO DATE</label>
                                                            <p style="
                                                      margin-left: 5%;
                                                      color: #000000;
                                                      font-size: 102%;
                                                    ">
                                                                {{ selectedRow.incoterm }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div style="
                                                  width: 85%;
                                                  margin-bottom: 24px;
                                                  border-radius: 8px;
                                                  box-shadow: 4px 4px 8px 4px #eeeefa;
                                                  border-left: 3px solid #e7845f;
                                                ">
                                                        <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                  ">
                                                            <label style="
                                                      color: #72768a !important;
                                                      font-size: 102%;
                                                    ">Last Day Of Shipment</label>
                                                            <p style="
                                                      margin-left: 5%;
                                                      color: #000000;
                                                      font-size: 102%;
                                                    ">
                                                                {{ selectedRow.lastDayShipment }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div style="
                                                  width: 85%;
                                                  margin-bottom: 24px;
                                                  border-radius: 8px;
                                                  box-shadow: 4px 4px 8px 4px #eeeefa;
                                                  border-left: 3px solid #e7845f;
                                                ">
                                                        <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                  ">
                                                            <label style="
                                                      color: #72768a !important;
                                                      font-size: 102%;
                                                    ">Payment Term</label>
                                                            <p style="
                                                      margin-left: 5%;
                                                      color: #000000;
                                                      font-size: 102%;
                                                    ">
                                                                {{ selectedRow.paymentTerm }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div style="
                                                  width: 85%;
                                                  margin-bottom: 24px;
                                                  border-radius: 8px;
                                                  box-shadow: 4px 4px 8px 4px #eeeefa;
                                                  border-left: 3px solid #5fe6e7;
                                                ">
                                                        <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                  ">
                                                            <label style="
                                                      color: #72768a !important;
                                                      font-size: 102%;
                                                    ">PC Ref No.</label>
                                                            <p style="
                                                      margin-left: 5%;
                                                      color: #000000;
                                                      font-size: 102%;
                                                    ">
                                                                {{ selectedRow.pcRefNo }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div style="
                                                  width: 85%;
                                                  margin-bottom: 24px;
                                                  border-radius: 8px;
                                                  box-shadow: 4px 4px 8px 4px #eeeefa;
                                                  border-left: 3px solid #e7845f;
                                                ">
                                                        <div style="
                                                    height: 100px;
                                                    padding-top: 14px;
                                                    padding-bottom: 17px;
                                                    padding-left: 3%;
                                                  ">
                                                            <label style="
                                                      color: #72768a !important;
                                                      font-size: 102%;
                                                    ">Due Date</label>
                                                            <p style="
                                                      margin-left: 5%;
                                                      color: #000000;
                                                      font-size: 102%;
                                                    ">
                                                                {{ selectedRow.dueDate }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                </section>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <!----------------ADD A DOCUMENT ----------------------------------------->
                            <div class="tab-content form-wrapper" [attr.data-index]="2" style="
                                      height: 100vh;
                                      padding-left: 20px;
                                      padding-top: 4%;
                                      background-color: white;
                                      width: 97%;
                                    ">
                                <div class="form" method="POST">
                                    <input class="dropzone dropzone-container" id="dropzone" />
                                    <div class="form_inner">
                                        <p>Drag a document here</p>
                                        <p>or</p>
                                        <button type="submit">Select</button>
                                    </div>
                                </div>
                            </div>
                            <div style="
                                      overflow: hidden;
                                      padding: 4% 0;
                                      background-color: white;
                                    " class="tab-content form-wrapper" [attr.data-index]="3">
                                <div style="width: 105%">
                                    <div style="width: 98%; background-color: 'white'">
                                        <div class="row" style="width: 100%">
                                            <div class="col-12 mb-lg padding" style="width: 100%">
                                                <!----------------------------TRANSACTION & TASKS  ---------------------------->
                                                <div style="width: 100%" class="transaction_tab" *ngIf="!step1">
                                                    <section style="
                                                  display: flex;
                                                  justify-content: space-between;
                                                  margin-bottom: 4%;
                                                " class="widget pb-0 box-shadow">
                                                        <div>
                                                            <span class="at" style="
                                                      border-right: 1px solid black;
                                                      color: #49a2d7;
                                                    ">All Transaction</span>
                                                            <span class="at">Tasks</span>
                                                        </div>
                                                        <div style="height: 100%">
                                                            <span class="ctb" (click)="onNewTrans()">Create New
                                                                Transaction</span>
                                                        </div>
                                                    </section>
                                                    <table class="table table-striped mb-0">
                                                        <thead>
                                                            <tr class="text-muted table-heading">
                                                                <th scope="col">Date</th>
                                                                <th scope="col">File</th>
                                                                <th scope="col">Status</th>
                                                                <th scope="col">Bank</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="text-dark">
                                                            <tr *ngFor="let task of allTransactions" class="table-row" (click)="viewTask(task)">
                                                                <th class="pl-4 fw-normal">
                                                                    {{ task.transactionDate }}
                                                                </th>
                                                                <td class="sb-no">{{ task.file }}</td>
                                                                <td *ngIf="task.completed === true">
                                                                    Completed
                                                                </td>
                                                                <td *ngIf="task.completed === false">
                                                                    Pending
                                                                </td>

                                                                <td>{{ task.bank }}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                                <!------------------------------TRANSACTION TASK ENDS----------------->

                                                <div class="radio1" *ngIf="step1" style="
                                                margin-left: 10px;
                                                padding: 4% 0;
                                                padding-left: 3%;
                                              ">
                                                    <p class="stp1">Setup: 1</p>
                                                    <p class="stp2">Create Transaction:</p>
                                                    <p class="stp3">Select a bank*</p>
                                                    <div style="display: flex; align-items: center;">
                                                        <input style="flex-direction:row;" type="radio" id="options1" class="circular_input" [(ngModel)]="myRadio" value="yesBank">
                                                        <label style="flex-direction:row;" class="label1" for="male">Yes
                                                            Bank</label>
                                                    </div>
                                                    <div style="display: flex; align-items: center;">
                                                        <input type="radio" style="flex-direction:row;" id="options2" class="circular_input" [(ngModel)]="myRadio" value="axisBank">
                                                        <label class="label1" style="flex-direction:row;" for="female">Axis
                                                            Bank</label>
                                                    </div>

                                                    <div style="display: flex; align-items: center;">
                                                        <input type="radio" style="flex-direction:row;" name="bank" value="Any Bank" class="circular_input" />
                                                        <label class="label1" style="flex-direction:row;" for="female">Any
                                                            Bank</label><br />
                                                    </div>
                                                    <br>

                                                    <div style="
                                                  display: flex;
                                                  width: 100%;
                                                  margin-top: 5%;
                                                  justify-content: left;
                                                ">
                                                        <button (click)="showThisPdf(selectedRow.pi_poNo)" class="opt" style="margin-right: 1%">
                                                            Generate Document
                                                        </button>
                                                        <button class="opt">Assign Task</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>
